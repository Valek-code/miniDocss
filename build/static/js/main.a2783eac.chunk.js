(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(17),o=n.n(a),i=(n(38),n(33)),s=n(34),u=n.n(s),l=n(56),f=n(37),d=n(57),j=n.n(d),b=(n(99),n(2)),O=n(123),v=n(58),h=n(59),p=n(3),m=function(){var e=Object(c.useState)(),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),o=Object(f.a)(a,2),s=o[0],d=o[1],m=Object(b.g)().id;Object(c.useEffect)((function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||4e3,t=Object(i.io)("http://localhost:".concat(e));return r(t),function(){t.disconnect()}}),[]),Object(c.useEffect)((function(){if(null!=n&&null!=s){var e=function(e,t,c){"user"===c&&n.emit("send-changes",e)};return s.on("text-change",e),function(){s.off("text-change",e)}}}),[n,s]),Object(c.useEffect)((function(){if(null!=n&&null!=s){var e=function(e){s.updateContents(e)};return n.on("receive-changes",e),function(){n.off("receive-changes",e)}}}),[n,s]),Object(c.useEffect)((function(){null!=n&&null!=s&&(n.once("load-document",(function(e){s.setContents(e),s.enable()})),n.emit("get-document",m))}),[n,s,m]),Object(c.useEffect)((function(){if(null!=n&&null!=s){var e=setInterval((function(){n.emit("save-document",s.getContents())}),3e5);return function(){return clearInterval(e)}}}),[n,s]);var x=[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{aling:[]}],["image","blockquote","code-block"],["clean"]],g=Object(c.useCallback)((function(e){if(null!=e){e.innerHTML="";var t=document.createElement("div");e.append(t);var n=new j.a(t,{theme:"snow",modules:{toolbar:x}});n.enable(!1),n.setText("Loading... "),d(n)}}),[]),E=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=s.getContents(),e.next=4,h.pdfExporter.generatePdf(n);case 4:c=e.sent,Object(v.saveAs)(c,"".concat(m.split("-")[0],".pdf"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"container",ref:g,children:Object(p.jsx)("div",{children:"Invite a friend"})}),Object(p.jsx)(O.a,{style:{marginLeft:"1rem"},variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),n.emit("save-document",s.getContents())},children:"Save document"}),Object(p.jsx)(O.a,{style:{marginLeft:"1rem"},variant:"contained",color:"primary",onClick:E,children:"Generate PDF"}),Object(p.jsxs)("h1",{style:{marginLeft:"1rem"},children:["Invite a friend: ",Object(p.jsx)("a",{href:"".concat(window.location.href),children:window.location.href})]})]})},x=n(124),g=n(64);var E=function(){return Object(p.jsx)(g.a,{children:Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{path:"/",exact:!0,children:Object(p.jsx)(b.a,{to:"/doc/".concat(Object(x.a)())})}),Object(p.jsx)(b.b,{path:"/doc/:id",children:Object(p.jsx)(m,{})})]})})};o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root"))},38:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.a2783eac.chunk.js.map